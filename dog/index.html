<!DOCTYPE html>
<html>
    <head>
        <link href="bl.css" rel="stylesheet" type="text/css" />
        <link href="https://www.geobica.com/images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
        <title>bl</title>
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
        </script>
        <script type="text/javascript"
          src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>
        <meta property="og:image" content="https://www.geobica.com/bl/im/siers_blank.png"/>
        <meta property="og:image:width" content="550"/>
        <meta property="og:image:height" content="440"/>
        <meta property="og:title" content="Splitting Fractals"/>
        <meta property="og:description" content="An analysis of the mass of slices of basic fractals taken at rational intervals."/>
    </head>
    <body>
        <div id="header">
            <a id="icon" href="https://www.Geobica.com/bl/"> <img src="https://www.geobica.com/bl/im/world_288.png"/> </a>
            <br/>
            <div id="links"><a class="link" href="https://www.geobica.com">Home</a> | <a class="link" href="https://www.geobica.com/bl/">/bl</a> | <a class="link" href="https://www.geobica.com/games/">Games</a> | <a class="link" href="https://www.geobica.com/about.html">About</a> | <a class="link" href="https://www.geobica.com/contact.html">Contact</a></div>
        </div>
        <div id="body">
            <div id="article_column">
                <div id="post">
                    <div class="title_print"><strong>Splitting Fractals</strong></div>
                    <div class="date_print"><i>Published 16 October 2019</i></div>
                    </br>
                    <div class="body_print">The core property that makes fractals like the Menger sponge and Sierpinski triangle beautiful if their self-similarity. A Sierpinski triangle can be cut into three equal parts each with a side length half the original, while a Menger sponge can be cut into twenty smaller cubes, each an exact copy of the larger scaled down by a factor of three. But what if, instead of slicing these fractals into identical components, they were sliced unevenly? What if, for example, the Sierpinski triangle were sliced by a vertical line exactly one third of the way along its edge?</div>
                    <div><img class="embed_image" src="https://www.geobica.com/bl/im/siers_blank.png" width="40%"/></div>
                    </br>
                    <div class="body_print">How does the mass of the segment on the left relate to the segment on the right? It seems like it should be less than a third of the total mass, but given the hole in the center, that's not certain. I think this is an interesting exercise, so I'd recommend trying this yourself.</div>
                    </br><div align="center"><button title="Click to show/hide content" align="center" type="button" onclick="if(document.getElementById('spoiler_0') .style.display=='none') {document.getElementById('spoiler_0') .style.display=''}else{document.getElementById('spoiler_0') .style.display='none'}">Show/hide</button></div></br>
                    <div id="spoiler_0" style="display:none">
                    <div class="body_print"><div style="width=40%;margin:auto;text-align: center;"><img class="side_image" src="https://www.geobica.com/bl/im/002.png" width="20%" style=""/><img class="side_image" src="https://www.geobica.com/bl/im/070.png" width="20%"/></div>
As you can see, the left side can be constructed from scaled down copies of the left and right sides. The copy of the right side in the left is scaled down by a factor of two. As scaling down a sierpinski triangle by a factor of two scales the mass down by a factor of three, the mass of this portion is $R/3$. The copy of the left side is scaled down by a factor of four, so that portion has a mass of $L/9$.
Therefore, $$L=R/3+L/9$$
$$8L/9=R/3$$
$$8L=3R$$
The left side is therefore  $3/11$  the total mass.
                	</div></div>
                    <div class="body_print">Another simple fractal to analyse is the menger sponge. For the sake of visualization, I'll work with a two-dimensional version:</div>
                    <div><img class="embed_image" src="https://www.geobica.com/bl/im/menger_plain.png" width="40%"/></div>
                    <div class="body_print">Cutting off half of the menger sponge would obviously result in a 1:1 proportion, while a third would clearly be 3:5, so for this I've cut off one fourth horizontally.</div>

                    </br><div align="center"><button title="Click to show/hide content" align="center" type="button" onclick="if(document.getElementById('spoiler_1') .style.display=='none') {document.getElementById('spoiler_1') .style.display=''}else{document.getElementById('spoiler_1') .style.display='none'}">Show/hide</button></div></br>
                    <div id="spoiler_1" style="display:none">
                    <div class="body_print">The solution here can be seen in the fact that $\sum_{n=1}^{\infty} \frac{1}{9^{n}}=\frac{1}{8}$. This means that $\sum_{n=1}^{\infty} \frac{2}{9^{n}}=\frac{1}{4}$.</div>
                    <div><img class="embed_image" src="https://www.geobica.com/bl/im/menger_green.png" width="40%"/></div>
                    <div class="body_print">The first $2/9$ horizontally consists of a whole number of smaller menger sponges, and the remainder of the left side can be seen to be a stack of scaled down copies of the left side. Each menger sponge with $1/9$ the side length has $1/64$ the mass of the whole, so the light green has $15/64$ the total mass. The remainder of the left side consists of a stack of nine copies of the left scaled down by one ninth, giving the equation: $$L=15/64+9/64L$$
$$55/64L=15/64$$
$$L=15/55=3/11$$

So, as it turns out, the mass of one third of the sierpinski triangle is the same as the mass of a quarter of an equal menger sponge. Coincidence?

To better understand where these ratios come from, it would help to generalize the process for any fraction. One way to do this is to use the ternary expansion of a fraction to discover an equation that describes the ratio.
Take, for example, the repeating ternary value of 0.<span style="text-decoration:overline">0<span style="color: #ff0000">1</span><span style="color: #00ff00">2</span><span style="color: #0000ff">1</span></span>. Because this is in ternary, it's easier to see how this maps onto the menger sponge.</div>
                <div><img class="embed_image" src="https://www.geobica.com/bl/im/menger_fifth.png" width="40%"/></div>
                    <div class="body_print">The first $1/9$ is in red, the next $2/27$ is in green, and the next $1/81$ is in blue. The digits after the repeat correspond to a stack of scaled down copies of the left side in the column after the blue. This column is $\frac{1}{3^{4}}$ of the side, and each copy of the left will have $\frac{1}{8^{4}}$ the whole mass. To count the amount of copies, observe that the first third of the sponge contains three copies, the second third contains two, and the last third contains three again.

A formula can be described for the amount of 1/81-sponges can be found in each column of $1/81$ the whole sponge. In the nth column, there will be $81*(2/3)^{\textrm{# of 1's in ternary expansion of n-1}}$, as each digit 1 essentially indicates that the column is on top of one of the holes in the sponge. For convenience, I'll let $M(n)=(2/3)^{\textrm{# of 1's in ternary expansion of n}}$. As $121_{3}$ columns are described already, there will be $81*M(121_{3})=36$ 1/81-sponges in the next column.
The number of 1/81-sponges in the parts colored red, green, and blue can be counted by finding $$81*\sum_{n=0}^{121_{3}-1}M(n)$$
Using this, the mass of the left side can be found from the formula
$$L=\frac{81*\sum_{n=0}^{121_{3}-1}M(n)}{8^{4}}+\frac{81*M(121_3)*L}{8^{4}}$$
Evaluating for $n=121_{3}$ gives $L=3/14$.

The formula can be generalized for any repeating ternary expansion of a rational number. Given integers $A$ and $a$ such that $A<3^{a}$, the fraction $\frac{A}{3^{a}-1}$ describes a repeating ternary expansion such that the digits of $A$ repeat every $a$ digits. The mass of this fraction horizontally of the menger sponge can be found by:
$$L=\frac{3^{a}*\sum_{n=0}^{A-1}M(n)}{8^{a}}+\frac{3^{a}*M(A)*L}{8^{a}}$$
which solves to
$$L=\frac{3^{a}*\sum_{n=0}^{A-1}M(n)}{8^{a}-3^{a}*M(A)}$$

This formula can be applied to any fraction $1/n$ where $n$ is not divisible by $3$, for reasons related to Fermat's little theorem. I may expand on this fact in an update to this at a later date, along with some more exploration of the properties of the Sierpinski triangle. To find the mass when $n$ is divisible by $3$, the fractal's self similarity can be used to show that the mass of $1/3k$ across is exactly $3/8$ the mass of $1/k$ across. The table below shows the mass fractions of $1/n$ across the menger sponge for the first few $n$.
<table align="center" cellpadding="5">
<tr><th>Length Across</th><th>Mass of Left Side</th></tr>
<tr><td>$1/1$</td><td>$1/1$</td></tr>
<tr><td>$1/2$</td><td>$1/2$</td></tr>
<tr><td>$1/3$</td><td>$3/8$</td></tr>
<tr><td>$1/4$</td><td>$3/11$</td></tr>
<tr><td>$1/5$</td><td>$3/14$</td></tr>
<tr><td>$1/6$</td><td>$3/16$</td></tr>
<tr><td>$1/7$</td><td>$9/53$</td></tr>
<tr><td>$1/8$</td><td>$9/58$</td></tr>
<tr><td>$1/9$</td><td>$9/64$</td></tr>
<tr><td>$1/10$</td><td>$9/73$</td></tr>
<tr><td>$1/11$</td><td>$369/3266$</td></tr>
<tr><td>$1/12$</td><td>$9/88$</td></tr>
<tr><td>$1/13$</td><td>$9/97$</td></tr>
<tr><td>$1/14$</td><td>$9/106$</td></tr>
<tr><td>$1/15$</td><td>$9/112$</td></tr>
<tr><td>$1/16$</td><td>$153/2021$</td></tr>
</table>
</div>
</div>
                    </div>
                <hr>
            </div>
        </div>
    </body>
</html>




Thoughts on Dozagesimal
For the sake of readability, all numbers without subscripts can be assumed to be written in decimal.
I recently read an article written by jan Misali exploring some advantages that could be had from using decadozenal, or base-120, in a mixed radix system. I have some of my own thoughts about this, and I find the system to be rather interesting, so here's some findings from my own independent "research" on the matter.
Dozagesimal is uniquely good at writing fractions
A basic way to demonstrate how "good" a base is is to examine how it expresses simple ratios. For example, decimal writes 1/5 as 0.2, while 1/7 requires six repeating digits, those being 0._142857_. For now, I'm only going to focus on which prime fractions can be expressed simply in a given base, as composite fractions can be derived from those. In base n, a prime fraction 1/p can be expressed in a single terminating digit if and only if p is a factor of n. If p is not a factor of n, it can be expressed with k repeating digits where k is the least whole number such that p|(n^k-1). For example, in decimal, 1/7 is 0._142857_ because 1/7=142857/(10^6-1). That is, 7|(10^6-1).
Which prime fractions will be at least somewhat simple in a given base n can quickly be seen by looking at the prime factors of n-1, n, and n+1, as the fractions for the factors of n can be expressed with a terminating digit, for n-1 with a single repeating digit, and for n+1 with 2 repeating digits, as a consequence of the fact that (n+1)(n-1)=n^2-1.
Lets call a prime fraction 1/p "convenient" in a base if either p|(n-1), p|n, or p|(n+1).
Below is a table that can be used to quickly see which bases have a lot of convenient prime fractions:

Multiples of 2 and 3 are not marked as 1/2 and 1/3 would be convenient in any base, though because of how common they are, the only bases n that could really be practical are those such that 6|n (shown in bold) or, if more flexibility is needed, 2|n and 3|n-1 (shown in italics).
The smallest base for which both 1/5 and 1/7 are convenient is seximal, base-6. For 1/5, 1/7, <i>and</i> 1/11, the smallest is triseptimal, base-21. <i>However</i>, if the search is restricted only to bases divisible by 6, <b>dozagesimal</b>, base-120. For 1/13 as well? While base-155 could work, the smallest multiple of 6 is base-714, far too large even with a mixed radix system.[Here's a few other bases of note:<br/>Base-76: Italicized, convenient up to 1/11<br/>Base-274: Italicized, convenient up to 1/13<br/>Base-210: Up to 1/7 terminate, 1/11 is a single repeating<br/>Base-105: 1/3, 1/5, and 1/7 terminate, and 1/8 is a single repeating digit, making it a theoretically usable mixed-radix odd base]
This is why I say dozagesimal is <i>uniquely</i> good at fractions. 1/2, 1/3, and 1/5 all terminate, 1/7 and 1/17 use a single repeating digit, 1/11 uses two repeating digits, and even 1/13 only needs three repeating digits, a consequence of the fact that 13|(120^3-1). 1/19 is the first prime fraction to be truly unusable, requiring nine repeating digits. No base smaller than 120 is nearly as good, and no significantly better base is within even an order of magnitude of its size.

Writing dozagesimal
If you've payed close attention, you may have noticed that while I've been calling base-120 <b><i>dozagesimal</i></b>, jan Misali refers to it as <b><i>decadozenal</i></b> on his website. This is actually an important distinction, and it's something that I want to look at further than jan Misali did in his article. In short, while dozagesimal can be seen as base-12*10, decadozenal would be base-10*12. To explain why that's relevant, here's a quick rundown of mixed radix notation:
In a sense, the way time is written can be seen as mixed radix base-60, also known as sexagesimal. One second less than ten hours can be written as 9:59:59, where the colons separate digits in base-60, if "59" is viewed as a single digit. However, you can also view the digits as a mix of base-10 and base-6, with the digits in blue rolling over once they reach 10 and the digits in green rolling over once they reach 6.
For dozagesimal, the same principle holds. To keep the notation from looking like time, I decided to use apostrophes instead of colons, so 83*120^3+94*120^2+105*120+116 would be written as 83'94'X5'E6. The blue digits are base-10, while the green digits are base-12, with X standing in for ten and E for eleven.
Decadozenal is the other way around, such that 13*120^3+12*120^2+11*120+10 would be written 11'10'0E'0X. In dozagesimal, one less than 1'00'00 is E9'E9, while in decadozenal, it's 9E'9E.
To see how these systems differ, here's a table showing some basic fractions in both:

Overall, the fractions in dozagesimal are slightly simpler than in decadozenal, with five terminating in one digit in dozagesimal and only three in decadozenal. Jan Misali accounts for this by using what he refers to as "symmetric decadozenal", using decadozenal for the integer part of the number but switching to dozagesimal for the fractional part, such that 1'00-0.01=9E.E9. The reason he gives for doing this is that "dozagesimal is just as good at writing expansions of rational numbers, but makes it a bit harder to do divisibility tests". To assess this claim, here's a table of divisibility tests for each system:
Two: Ends in 0, 2, 4, 6, or 8  ;  Ends in 0, 2, 4, 6, 8, or X
Three: Sum of tens place and ones place is a multiple of 3  ;  Ends in 0, 3, 6, or 9
Four: Tens place is even and ends in 0, 4, or 8, or tens place is odd and ends in 2 or 6  ;  Ends in 0, 4, or 8
Five: Ends in 0 or 2  ;  Sum of double tens place and ones place is a multiple of five
Six: Passes tests for two and three
Seven: Sum of groups is a multiple of seven
Eight: Sum of double tens place and ones place is a multiple of eight  ;  Tens place is even and end in 0 or 8 or tens place is odd and ends in 4
Nine: Sum of digits in second to last group plus a third of sum of digits in last group is multiple of three  ;  Sum of fourth to last digit and a third of the sum of the third to last digit, second to last digit, and a third of the last digit is a multiple of three
Ten: Ends in 0  ;  Sum of double tens place and ones place is a multiple of ten
Eleven: Alternatingly add and subtract groups, repeat until there's a single group, check if digits match  ;  Alternatingly add and subtract groups, repeat until there's a single group, check if sum of digits is multiple of eleven
Twelve: Passes tests for three and four  ;  Ends in 0

While more of the divisibility tests for decadozenal are very simple, it's less clear cut overall. It's subjective, but I personally feel that the decadozenal test for five is significantly less simple, and thus slower to do in your head, than the dozagesimal tests for either three or four. I also find the test for nine more practical in dozagesimal, especially for larger numbers, and the test for eleven is significantly more practical for smaller numbers. However, taking into consideration

9  3
10 1
13 2
16 3
23
30
39
46
53
60
69



<svg width="600" height="1000">
<path d="M150 0 L75 200 L225 200Z"/>
<circle cx="50" cy="50" r="40" stroke="green" stroke-width="4" fill="yellow"/>


<rect x="0" y="0" width="200" height="100" stroke="#222222" stroke-width="3px" fill="#DDDDDD"/>
<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#222222">TEXT</text>
</svg>
